# 更新日誌

## [1.1.1] - 2025-08-01 - 🔧 PATCH

### 🎨 改進
- **優化按鈕布局**：將編輯控制按鈕改為固定浮動在右上角
- **智能備註儲存**：實現根據編輯模式調整儲存行為的智能機制
- **備註面板優化**：完善備註面板狀態保持機制
- **UI 體驗提升**：加入半透明背景和模糊效果提升按鈕可視性

### 🐛 修復
- 修復備註儲存時面板自動關閉的問題
- 優化手機版響應式設計，調整按鈕大小和間距
- 確保按鈕在所有滾動位置都可見和可點擊

---

## [1.1.0] - 2025-01-27 - ✨ MINOR

### 🆕 新功能
- **備註系統**：支援為每個行程項目添加多優先級備註
  - 三種優先級：重要（紅色）、普通（黃色）、參考（綠色）
  - 自動偵測網址連結功能
- **版本系統**：新增版本號系統和更新日誌功能
- **實時通知**：多用戶同步更新機制
- **拖拉排序**：支援行程項目拖拉重新排序

### 🎨 界面優化
- 優化界面布局：置中行程並改進使用說明
- 優化更新日誌顯示效果
- 新增 CLAUDE.md 開發者文檔

### 🐛 修復
- 修復備註新增時的實時通知問題
- 修復拖拉排序後的自動儲存問題
- 修復更新日誌重複標題問題
- 修復備註數量顯示更新
- 關閉拖拉自動儲存機制

---

## [1.0.0] - 2025-11-22 - 🚀 MAJOR

### 🏗️ 核心功能實現
- **日本關西四國行程**：完整的 8 天 7 夜旅遊行程規劃
- **線上編輯系統**：即時編輯模式與檢視模式切換
- **資料庫整合**：從 JSON 檔案遷移到 PostgreSQL 資料庫
- **即時同步**：使用 Server-Sent Events 實現多用戶即時資料同步

### ✨ 互動功能
- **自動儲存**：編輯內容自動儲存到資料庫
- **拖拉排序**：支援行程項目拖拉重新排序
- **鍵盤快捷鍵**：支援 Ctrl+S 儲存、Ctrl+E 切換編輯模式
- **響應式設計**：完美支援手機、平板、桌機各種裝置

### 🔧 技術架構
- **模組化設計**：將單一檔案重構為模組化架構
  - `itinerary.js` - 核心應用邏輯
  - `notification.js` - 即時通知處理
  - `version.js` - 版本管理系統
  - `itinerary.css` - 樣式設計
- **API 設計**：建立完整的 RESTful API 端點
- **錯誤處理**：完善的錯誤處理和使用者回饋機制

### 🛠️ 開發工具
- 新增專案文檔和開發指南
- 建立版本控制和發布流程
- 實現自動化測試和部署準備

---

## 技術規格

### 後端技術
- **運行環境**：Node.js + Express.js
- **資料庫**：PostgreSQL 與 JSONB 儲存
- **即時通信**：Server-Sent Events (SSE)
- **API 設計**：RESTful API 架構

### 前端技術
- **核心技術**：原生 HTML/CSS/JavaScript
- **互動功能**：拖拉排序、即時編輯
- **響應式設計**：Flexbox + CSS Grid
- **版本管理**：內建版本顯示和更新日誌

### 開發與部署
- **版本控制**：語義化版本控制 (Semantic Versioning)
- **環境變數**：支援 DATABASE_URL、PORT、NODE_ENV
- **啟動方式**：`npm start` 或 `npm run dev`